#include <math.h>
#include <stdio.h>
#include "sin_lut.h"

double sin_LUT(double degrees)
{
	// Sin look-up table using doubles at integer degrees
	static const double sin_table[360] =
	{
		 0.00000000000000000,  0.01745240643728350,  0.03489949670250100,  0.05233595624294380,  0.06975647374412530,  0.08715574274765820,
		 0.10452846326765300,  0.12186934340514700,  0.13917310096006500,  0.15643446504023100,  0.17364817766693000,  0.19080899537654500,
		 0.20791169081775900,  0.22495105434386500,  0.24192189559966800,  0.25881904510252100,  0.27563735581699900,  0.29237170472273700,
		 0.30901699437494700,  0.32556815445715700,  0.34202014332566900,  0.35836794954530000,  0.37460659341591200,  0.39073112848927400,
		 0.40673664307580000,  0.42261826174069900,  0.43837114678907700,  0.45399049973954700,  0.46947156278589100,  0.48480962024633700,
		 0.50000000000000000,  0.51503807491005400,  0.52991926423320500,  0.54463903501502700,  0.55919290347074700,  0.57357643635104600,
		 0.58778525229247300,  0.60181502315204800,  0.61566147532565800,  0.62932039104983700,  0.64278760968653900,  0.65605902899050700,
		 0.66913060635885800,  0.68199836006249800,  0.69465837045899700,  0.70710678118654700,  0.71933980033865100,  0.73135370161917000,
		 0.74314482547739400,  0.75470958022277200,  0.76604444311897800,  0.77714596145697100,  0.78801075360672200,  0.79863551004729300,
		 0.80901699437494700,  0.81915204428899200,  0.82903757255504200,  0.83867056794542400,  0.84804809615642600,  0.85716730070211200,
		 0.86602540378443900,  0.87461970713939600,  0.88294759285892700,  0.89100652418836800,  0.89879404629916700,  0.90630778703665000,
		 0.91354545764260100,  0.92050485345244000,  0.92718385456678700,  0.93358042649720200,  0.93969262078590800,  0.94551857559931700,
		 0.95105651629515300,  0.95630475596303500,  0.96126169593831900,  0.96592582628906800,  0.97029572627599600,  0.97437006478523500,
		 0.97814760073380600,  0.98162718344766400,  0.98480775301220800,  0.98768834059513800,  0.99026806874157000,  0.99254615164132200,
		 0.99452189536827300,  0.99619469809174600,  0.99756405025982400,  0.99862953475457400,  0.99939082701909600,  0.99984769515639100,
		 1.00000000000000000,  0.99984769515639100,  0.99939082701909600,  0.99862953475457400,  0.99756405025982400,  0.99619469809174600,
		 0.99452189536827300,  0.99254615164132200,  0.99026806874157000,  0.98768834059513800,  0.98480775301220800,  0.98162718344766400,
		 0.97814760073380600,  0.97437006478523500,  0.97029572627599600,  0.96592582628906800,  0.96126169593831900,  0.95630475596303600,
		 0.95105651629515400,  0.94551857559931700,  0.93969262078590800,  0.93358042649720200,  0.92718385456678700,  0.92050485345244000,
		 0.91354545764260100,  0.90630778703665000,  0.89879404629916700,  0.89100652418836800,  0.88294759285892700,  0.87461970713939600,
		 0.86602540378443900,  0.85716730070211200,  0.84804809615642600,  0.83867056794542400,  0.82903757255504200,  0.81915204428899200,
		 0.80901699437494700,  0.79863551004729300,  0.78801075360672200,  0.77714596145697100,  0.76604444311897800,  0.75470958022277200,
		 0.74314482547739400,  0.73135370161917100,  0.71933980033865100,  0.70710678118654800,  0.69465837045899700,  0.68199836006249900,
		 0.66913060635885800,  0.65605902899050700,  0.64278760968653900,  0.62932039104983800,  0.61566147532565800,  0.60181502315204800,
		 0.58778525229247300,  0.57357643635104600,  0.55919290347074700,  0.54463903501502700,  0.52991926423320500,  0.51503807491005400,
		 0.50000000000000000,  0.48480962024633700,  0.46947156278589100,  0.45399049973954700,  0.43837114678907700,  0.42261826174069900,
		 0.40673664307580000,  0.39073112848927400,  0.37460659341591200,  0.35836794954530000,  0.34202014332566900,  0.32556815445715700,
		 0.30901699437494700,  0.29237170472273700,  0.27563735581700000,  0.25881904510252100,  0.24192189559966800,  0.22495105434386500,
		 0.20791169081775900,  0.19080899537654500,  0.17364817766693000,  0.15643446504023100,  0.13917310096006600,  0.12186934340514800,
		 0.10452846326765400,  0.08715574274765860,  0.06975647374412550,  0.05233595624294380,  0.03489949670250070,  0.01745240643728340,
		 0.00000000000000012, -0.01745240643728320, -0.03489949670250090, -0.05233595624294360,	-0.06975647374412480, -0.08715574274765790,
		-0.10452846326765300, -0.12186934340514800,	-0.13917310096006600, -0.15643446504023100,	-0.17364817766693000, -0.19080899537654500,
		-0.20791169081775900, -0.22495105434386500, -0.24192189559966700, -0.25881904510252000,	-0.27563735581699900, -0.29237170472273600,
		-0.30901699437494800, -0.32556815445715700,	-0.34202014332566900, -0.35836794954530000, -0.37460659341591200, -0.39073112848927400,
		-0.40673664307580000, -0.42261826174069900,	-0.43837114678907700, -0.45399049973954600,	-0.46947156278589100, -0.48480962024633700,
		-0.50000000000000000, -0.51503807491005400,	-0.52991926423320500, -0.54463903501502700,	-0.55919290347074700, -0.57357643635104600,
		-0.58778525229247300, -0.60181502315204800,	-0.61566147532565800, -0.62932039104983800,	-0.64278760968653900, -0.65605902899050700,
		-0.66913060635885800, -0.68199836006249800,	-0.69465837045899700, -0.70710678118654700,	-0.71933980033865100, -0.73135370161917000,
		-0.74314482547739400, -0.75470958022277200,	-0.76604444311897800, -0.77714596145697100,	-0.78801075360672200, -0.79863551004729300,
		-0.80901699437494700, -0.81915204428899200,	-0.82903757255504100, -0.83867056794542400,	-0.84804809615642600, -0.85716730070211200,
		-0.86602540378443800, -0.87461970713939600,	-0.88294759285892700, -0.89100652418836800,	-0.89879404629916700, -0.90630778703665000,
		-0.91354545764260100, -0.92050485345244000,	-0.92718385456678700, -0.93358042649720200, -0.93969262078590800, -0.94551857559931700,
		-0.95105651629515300, -0.95630475596303500,	-0.96126169593831900, -0.96592582628906800,	-0.97029572627599600, -0.97437006478523500,
		-0.97814760073380600, -0.98162718344766400,	-0.98480775301220800, -0.98768834059513800,	-0.99026806874157000, -0.99254615164132200,
		-0.99452189536827300, -0.99619469809174600, -0.99756405025982400, -0.99862953475457400, -0.99939082701909600, -0.99984769515639100,
		-1.00000000000000000, -0.99984769515639100, -0.99939082701909600, -0.99862953475457400,	-0.99756405025982400, -0.99619469809174600,
		-0.99452189536827300, -0.99254615164132200,	-0.99026806874157000, -0.98768834059513800,	-0.98480775301220800, -0.98162718344766400,
		-0.97814760073380600, -0.97437006478523500,	-0.97029572627599600, -0.96592582628906800,	-0.96126169593831900, -0.95630475596303500,
		-0.95105651629515400, -0.94551857559931700,	-0.93969262078590900, -0.93358042649720200,	-0.92718385456678700, -0.92050485345244100,
		-0.91354545764260100, -0.90630778703665000,	-0.89879404629916700, -0.89100652418836800,	-0.88294759285892700, -0.87461970713939600,
		-0.86602540378443900, -0.85716730070211200,	-0.84804809615642600, -0.83867056794542400,	-0.82903757255504200, -0.81915204428899200,
		-0.80901699437494700, -0.79863551004729300,	-0.78801075360672200, -0.77714596145697100,	-0.76604444311897800, -0.75470958022277200,
		-0.74314482547739500, -0.73135370161917100,	-0.71933980033865200, -0.70710678118654800,	-0.69465837045899800, -0.68199836006249800,
		-0.66913060635885800, -0.65605902899050700,	-0.64278760968654000, -0.62932039104983800,	-0.61566147532565900, -0.60181502315204800,
		-0.58778525229247300, -0.57357643635104700,	-0.55919290347074700, -0.54463903501502700,	-0.52991926423320600, -0.51503807491005400,
		-0.50000000000000000, -0.48480962024633700,	-0.46947156278589100, -0.45399049973954700,	-0.43837114678907700, -0.42261826174070000,
		-0.40673664307580000, -0.39073112848927500, -0.37460659341591200, -0.35836794954530100,	-0.34202014332566900, -0.32556815445715700,
		-0.30901699437494800, -0.29237170472273600,	-0.27563735581700000, -0.25881904510252100,	-0.24192189559966800, -0.22495105434386500,
		-0.20791169081776000, -0.19080899537654500,	-0.17364817766693100, -0.15643446504023100,	-0.13917310096006600, -0.12186934340514800,
		-0.10452846326765300, -0.08715574274765830,	-0.06975647374412480, -0.05233595624294440,	-0.03489949670250080, -0.01745240643728450
	};

	// Round "degrees" by adding 0.5 and truncating. In this manner, all values between int.0 and int.49 only become int.5 to int.99
	// and are truncated to int (i.e. they are rounded down). However, all values between int.5 and int.99 become int+1.0 to
	// int+1.49, and are truncated to int+1 (i.e. they are rounded up).
	//
	int rounded_degrees = (int)(degrees + 0.5);

	// Ensure "rounded_degrees" is within a valid range. Takes advantage of the fact that sin is periodic to merely "wrap"
	// degrees to a valid value instead of throwing an error.
	//
	while( rounded_degrees >= 360 ) rounded_degrees -= 360;
	while( rounded_degrees < 0 ) rounded_degrees += 360;
	
	return sin_table[ rounded_degrees ];
}